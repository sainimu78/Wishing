set(v_FindPackageBasedIntegration TRUE)

set(QtVersion Qt_5_8_0)
if(v_FindPackageBasedIntegration)
	set(ImportedLibName ${QtVersion}_msvc2015_64_Official_Partial)
else()
	set(ImportedLibName ${QtVersion}_msvc2015_64_Custom)
endif()
set(v_ImportedLibRootDirPath ${c_RootThirdPartyDirPath}/Qt/${QtVersion})
set(v_UnzippedDirPath ${v_ImportedLibRootDirPath}/${ImportedLibName})
set(v_ZipFileName ${ImportedLibName}.zip)
set(v_SrcAddrZipFilePath ${c_StorageAddrPath}/ThirdParty/Qt/${c_ProjectPlatform}/${v_ZipFileName})

include(${c_RootThirdPartyDirPath}/Qt/Qt_5_x/Deps.cmake)
if(v_FindPackageBasedIntegration)
	set(v_LibNameFindPackgeBased Qt5)
	set(v_ListComponentFindPackgeBased ${c_ListQtLibNameFindPackageBased})
	set_target_properties(${ModuleName} PROPERTIES AUTOMOC ON)
	set(QT_ROOT "${v_UnzippedDirPath}/5.8.0/x64/5.8/msvc2015_64")
	list(APPEND CMAKE_PREFIX_PATH "${QT_ROOT}/lib/cmake")
	set(ListDeployingBinFilePathFindPackageBased "")
	foreach(It ${v_ListComponentFindPackgeBased})
		set(ConcatedName ${QT_ROOT}/${c_BinDirName}/${v_LibNameFindPackgeBased}${It})
		list(APPEND v_ListDeployingBinFilePathNoExtFindPackageBasedDebug ${ConcatedName}d)
		list(APPEND v_ListDeployingBinFilePathNoExtFindPackageBasedRelease ${ConcatedName})
	endforeach()
	list(APPEND v_ListDeployingSrcFilePathFindPackageBasedDebug ${QT_ROOT}/plugins/platforms/qwindowsd.dll)
	list(APPEND v_ListDeployingDstRelativeDirPathFindPackageBasedDebug platforms)
	list(APPEND v_ListDeployingSrcFilePathFindPackageBasedDebug ${QT_ROOT}/plugins/platforms/qwindowsd.pdb)
	list(APPEND v_ListDeployingDstRelativeDirPathFindPackageBasedDebug platforms)
	list(APPEND v_ListDeployingSrcFilePathFindPackageBasedRelease ${QT_ROOT}/plugins/platforms/qwindows.dll)
	list(APPEND v_ListDeployingDstRelativeDirPathFindPackageBasedRelease platforms)
else()
	set(v_LibPlatformArchDirPath ${v_UnzippedDirPath}/build/${c_ProjectPlatform}/${c_ProjectArch})
	set(v_DebugLibFileNamePostfix d)

	set(QtIncludeRootDirPath ${v_UnzippedDirPath}/include)
	list(APPEND v_ListLibIncludeDirPathPrivate ${QtIncludeRootDirPath})
	foreach(It ${c_QtIncludeDirNames})
		list(APPEND v_ListLibIncludeDirPathPrivate ${QtIncludeRootDirPath}/${It})
	endforeach()
	foreach(It ${c_QtLibFileNames})
		list(APPEND v_ListImportedLibFileName ${It})
	endforeach()
endif()
include(${c_RootCMakeProjectFrameworkDirPath}/ImportLibDownloaded.cmake)